---
description: 批次執行實作計畫，含人工檢查點與 TDD 強制執行
---

# /execute-plan 工作流

批次執行已核准的實作計畫，遵循 TDD 流程，含人工檢查點。

## 前置條件
- 有已核准的實作計畫 (`docs/plans/*.md`)
- 計畫格式符合 `writing-plans` 技能規範

## 流程

### Step 1: 讀取計畫檔案
```
確認計畫位置：docs/plans/YYYY-MM-DD-<feature>.md
讀取並解析所有任務
```

### Step 2: 建立任務清單
- 提取所有 Task
- 確認每個 Task 的檔案、步驟、驗證指令
- 估算總工時

### Step 3: 逐任務執行

對每個 Task：

#### 3.1 執行 TDD 循環
1. **RED**: 撰寫失敗測試
2. 執行測試，確認失敗
3. **GREEN**: 撰寫最小代碼通過
4. 執行測試，確認通過
5. **REFACTOR**: 清理代碼
6. 執行測試，確認仍通過

#### 3.2 提交
```bash
git add [相關檔案]
git commit -m "[commit message from plan]"
```

#### 3.3 人工檢查點 (每 3-5 個 Task)
- 報告進度
- 確認是否繼續

### Step 4: 完成後驗證
參考 `verification-before-completion` 技能：
- 所有測試通過
- 無新增警告
- 符合規格

### Step 5: 最終報告
```markdown
## 執行報告

**計畫**: [計畫名稱]
**完成時間**: [時間]

### 完成的任務
- ✅ Task 1: [描述]
- ✅ Task 2: [描述]

### 測試結果
- 通過: X
- 新增: Y

### 提交記錄
- [commit hash]: [message]
```

## 執行選項

| 模式 | 說明 | 適用情境 |
|------|-----|---------|
| 批次執行 | 每 3-5 Task 一個檢查點 | 一般開發 |
| 逐步執行 | 每個 Task 確認 | 關鍵功能 |
| 自動執行 | 無人工介入 | 信任度高的計畫 |

## 與 subagent-development 的差異

| 面向 | /execute-plan | subagent-development |
|------|--------------|---------------------|
| 上下文 | 持續累積 | 每任務獨立 |
| 審查 | 人工檢查點 | 自動二階段審查 |
| 適用 | 緊密耦合任務 | 獨立任務 |

## 錯誤處理

若任務失敗：
1. 停止執行
2. 報告錯誤詳情
3. 使用 `systematic-debugging` 技能分析
4. 修復後從失敗點繼續
